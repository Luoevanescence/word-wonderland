# 可折叠底部导航栏

## 功能概述

导航栏现在支持折叠/展开功能，提供更好的用户体验和更大的内容显示空间。

## 特性

### 1. **默认折叠状态**
- 在左下角显示一个圆形按钮
- 按钮显示汉堡菜单图标
- 右上角显示徽章数字（当前选中页面的序号）
- 液态玻璃效果，薄荷绿边框
- Hover 时图标旋转 90 度

### 2. **展开状态**
- 点击左下角按钮，导航栏从底部滑入
- 固定在窗口底部，居中显示
- 显示所有导航项目（首页、学习、分析、设置）
- 右侧显示"收起"按钮
- 背景半透明遮罩

### 3. **折叠功能**
- 点击"收起"按钮，导航栏滑出隐藏
- 点击遮罩层，导航栏自动收起
- 导航栏恢复为左下角小圆钮

## 交互动画

### 折叠按钮
- **入场动画**: bounceIn（弹跳进入）
- **Hover 效果**: 放大 1.05 倍 + 图标旋转
- **点击后**: 缩小到 0.5 倍并淡出

### 导航栏
- **展开**: 从底部滑入 (translateY: 150% → 0)
- **折叠**: 向底部滑出 (translateY: 0 → 150%)
- **过渡时间**: 0.4s 缓动

### 遮罩层
- **淡入**: 0.3s
- **背景**: rgba(0, 0, 0, 0.2) + 2px 模糊

## 视觉设计

### 折叠按钮（左下角）
```css
尺寸: 56×56px 圆形
位置: 左下角 20px
背景: rgba(255, 255, 255, 0.8) + 毛玻璃
边框: 薄荷绿 1px
阴影: 柔和的薄荷绿发光
```

### 徽章
```css
尺寸: 20×20px 圆形
位置: 按钮右上角
背景: 薄荷绿→琥珀黄渐变
文字: 白色数字 (1-4)
```

### 展开的导航栏
```css
位置: 固定在底部
宽度: 最大 650px（移动端 100%）
背景: rgba(255, 255, 255, 0.85) + 强毛玻璃
圆角: 24px
内边距: 12px 16px
```

### 导航项
```css
最小宽度: 60px
内边距: 8px 12px
圆角: 16px
Hover: 向上移动 2px
选中: 薄荷绿渐变背景
```

## 用法示例

### 在 App.jsx 中
```jsx
import BottomNav from './components/BottomNav';

function App() {
  const [activeTab, setActiveTab] = useState('home');

  return (
    <div className="app">
      {/* 内容 */}
      
      <BottomNav activeTab={activeTab} setActiveTab={setActiveTab} />
    </div>
  );
}
```

### 状态管理
组件内部使用 `useState` 管理折叠/展开状态：
```jsx
const [isExpanded, setIsExpanded] = useState(false);
```

## 响应式设计

### 移动端适配 (<768px)
- 折叠按钮: 50×50px
- 导航栏宽度: 100%
- 导航项间距和字体缩小
- 徽章尺寸: 18×18px

### 触摸优化
- 所有按钮都有足够的点击区域
- 滑动动画流畅
- 遮罩层支持点击收起

## Z-index 层级

```
遮罩层 (nav-overlay):      999
折叠按钮 (nav-toggle):    1000
展开导航 (bottom-nav):    1001
```

## 用户体验优化

1. **默认折叠**: 不占用屏幕空间，内容区域更大
2. **快速访问**: 左下角固定位置，方便拇指操作
3. **清晰反馈**: 徽章显示当前位置
4. **优雅动画**: 所有交互都有流畅动画
5. **多种关闭方式**: 点击按钮或遮罩都可以收起

## 性能考虑

- 使用 CSS transform 实现动画（GPU 加速）
- 折叠时移除 pointer-events，不影响交互
- 遮罩层仅在展开时渲染
- 所有动画使用硬件加速属性

## 可访问性

- 所有按钮都有 `title` 属性
- 语义化的 HTML 结构
- 键盘可访问（可进一步优化）
- 清晰的视觉反馈

## 自定义选项

### 修改默认状态
如果需要默认展开：
```jsx
const [isExpanded, setIsExpanded] = useState(true);
```

### 调整动画时间
在 CSS 中修改：
```css
.bottom-nav {
  transition: transform 0.4s ..., opacity 0.4s ...;
}
```

### 修改位置
折叠按钮可以放在其他角落：
```css
.nav-toggle {
  bottom: 20px;
  right: 20px;  /* 改为右下角 */
}
```

## 浏览器兼容性

- ✅ Chrome/Edge: 完全支持
- ✅ Firefox: 完全支持  
- ✅ Safari: 完全支持（已添加 -webkit- 前缀）
- ✅ 移动浏览器: 完全支持

## 未来增强

- [ ] 添加滑动手势支持
- [ ] 记住用户的折叠/展开偏好
- [ ] 支持键盘快捷键
- [ ] 添加更多动画变体
- [ ] 支持自定义主题

---

更新时间: 2025-10-29
版本: 2.2.0

